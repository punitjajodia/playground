<html>
<head>
	<title>Particle System using paperjs</title>
	<script src="js/paper.js/dist/paper-full.js"></script>
</head>
<body>

<script type="text/paperscript" canvas="canvas-1">
tool.minDistance = 20;
tool.maxDistance = 300;


var vectorStart;
var vector;
function onMouseDown(event) {
	vectorStart = event.point;
}

function drawVector(start, end){
	var line = new Path();
	line.strokeColor = "#000000";

	line.add(start);
	line.add(end);

	var arrow = new Path();

	var lineDir = end - start;

	arrow.add(end + lineDir.normalize(10).rotate(135));
	arrow.add(end);
	arrow.add(end + lineDir.normalize(10).rotate(-135));

	arrow.strokeColor = "#000000";

	var group = new Group([
		line, arrow
	]);

	return group;
}

function onMouseDrag(event){
	if(vector){
		vector.remove();
	}
		
		vector = drawVector(vectorStart, event.point);
}


function onMouseUp(event){
	// vector = drawVector(vectorStart, event.point);
}

</script>

<canvas id="canvas-1" resize="true"></canvas>


</body>
</html>